# KM Extension (知識管理擴展程式)

這是一個 Chrome 擴展程式，用於擷取、管理和匯出網頁中的知識內容。

## 功能

1. **知識擷取**: 類似於瀏覽器的"開發者模式"，可以選擇並擷取網頁中特定區塊的文字內容。
2. **知識管理**: 自動將擷取的內容儲存為知識卡片，包含網頁標題、時間和原始連結。
3. **知識匯出**: 可選擇想要匯出的知識卡片，匯出為 TXT 檔案。
4. **知識刪除**: 可刪除不需要的知識卡片。

## 安裝方法

1. 下載此專案並解壓縮。
2. 開啟 Chrome 瀏覽器，在網址列輸入 `chrome://extensions/`。
3. 開啟右上角的「開發人員模式」。
4. 點擊「載入未封裝項目」按鈕，選擇此專案的目錄。
5. 擴展程式將會安裝到您的瀏覽器中。

## 使用方法

1. 點擊 Chrome 工具列中的 KM Extension 圖標，開啟側邊欄。
2. 點擊「擷取」按鈕，進入擷取模式。
3. 在網頁中移動滑鼠，選擇要擷取的區塊（會顯示紅色虛線框）。
4. 點擊選取的區塊，完成擷取。擷取的內容將自動儲存為知識卡片。
5. 點擊「匯出」按鈕，選擇要匯出的知識卡片，匯出為 TXT 檔案。
6. 點擊知識卡片右上角的「❌」按鈕，刪除不需要的知識卡片。

## 開發說明

### 環境設置

1. 安裝 Node.js 和 npm。
2. 執行 `npm install` 安裝依賴。
3. 執行 `npm run generate-icons` 生成圖標檔案。

### 專案結構

```
KMExtension/
├── manifest.json                # 擴展程式設定檔
├── src/
│   ├── assets/                  # 圖標和靜態資源
│   ├── css/                     # 樣式表
│   │   └── sidepanel.css        # 側邊欄樣式
│   ├── html/
│   │   └── sidepanel.html       # 側邊欄 HTML
│   └── js/
│       ├── background.js        # 背景腳本
│       ├── content-script.js    # 內容腳本 (擷取功能)
│       ├── database.js          # 資料庫操作
│       └── sidepanel.js         # 側邊欄功能
├── package.json
└── README.md
```

### 技術說明

- **IndexedDB**: 用於本地儲存知識卡片。
- **Chrome Side Panel API**: 用於在瀏覽器右側顯示側邊欄。
- **Chrome Messaging API**: 用於內容腳本和側邊欄之間的通訊。

## 注意事項

- 擴展程式使用 IndexedDB 儲存知識卡片，資料儲存在本地瀏覽器中。
- 清除瀏覽器資料可能會導致知識卡片遺失。
- 擴展程式僅支援 Chrome 瀏覽器。 